# Log 315: Chasing Twenty Milli-Sats

> 26 Jan 2026

## What I Worked On

- [Progressed] on the dummy hops follow-up

## Reflections

Today I spent the day progressing on the **dummy hops follow-up**.

The main task was tackling the biggest remaining piece of that work: introducing
**non-trivial dummy TLV values** that can be exercised by LDK’s testing
framework. And for the most part — it worked. Almost.

The issue I ran into is subtle but annoying. After adding dummy fees, the
_expected_ fees and the _actual_ deducted fees are slightly off — by just a few
millisatoshis. For example: expecting `8600 msats`, but seeing `8620 msats`
deducted.

What makes this interesting is how small the discrepancy is. It doesn’t feel
like the result of forgetting an entire field or misapplying a large value. It
smells more like rounding, ordering, or an interaction effect hiding somewhere
in the fee calculation.

I spent the latter part of the day chasing this down. Even though the difference
is tiny, I want the tests to be **perfectly accurate** — or at the very least, I
want to fully understand _why_ the discrepancy exists.

Tomorrow, the chase continues.

[Progressed]: https://github.com/shaavan/rust-lightning/commits/pay-dummy-flw-01
