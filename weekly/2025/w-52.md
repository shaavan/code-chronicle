# Weekly Log 52: Refinement and Perspective

> 18–20 Dec 2025

## Overview

This short week focused on refinement, architectural clarity, and gaining
broader context across the LDK ecosystem. Rather than introducing new features,
the emphasis was on responding to review feedback, improving correctness and
privacy properties, and stepping back to understand adjacent projects that build
on top of `rust-lightning`.

## Highlights

### Dummy Hops Review & Privacy Considerations

- Addressed reviewer feedback on the **payment dummy hops** implementation.
- Simplified internal handling by avoiding unnecessary nested structures and
  aligning `forward_info` with receive-side values.
- Identified an important limitation: unchanged CLTV values currently undermine
  the intended privacy benefits of dummy hops.
- Planned a follow-up to address CLTV-based distinguishability.

### Custom TLVs: Architectural Course Correction

- Incorporated feedback from mentor discussion and senior review on **custom
  TLVs**.
- Realigned the BOLT12 approach to place custom TLVs directly in the **Onion
  Message** (`InvoiceRequest`) rather than the onion payment packet,
  acknowledging packet size constraints.
- Cleaned up the existing PR to retain only BOLT11-related changes while
  continuing BOLT12 Onion Message work locally.

### Broader Ecosystem Exploration

- Took time over the weekend to explore **LDK Node** and **LDK Server**.
- Gained a clearer understanding of how `rust-lightning` integrates into
  higher-level node and daemon abstractions.
- Began identifying areas where future contributions could add value beyond the
  core library.

## Reflections

This was a week of _adjustment and perspective_ rather than expansion.

Several decisions involved stepping back from an initial implementation and
choosing a cleaner or more appropriate layer for functionality — whether that
meant simplifying internal structures, rethinking where data belongs in the
protocol stack, or postponing changes that weren’t ready to land cleanly.

Ending the week by exploring adjacent projects helped contextualize the work
within the broader LDK ecosystem and reinforced the importance of making core
changes that scale well beyond a single use case.

The focus now is on carrying these refinements forward: improving privacy
guarantees, completing custom TLV support in the right layer, and continuing to
make deliberate, well-placed progress.
