# Log 262: Revisiting the Past

> 08 Nov 2025

## What I Worked On

- [Experimented] with an improved approach for [#3833].

## Reflections

Today was an interesting one.  
Taking a short tangent from my current active projects, I decided to revisit one
of the earlier but important efforts that had been on pause for a while — the
**currency and event-model** for asynchronous invoice request responses.

After rebasing and reviewing the code, a few shortcomings became clear. The
previous approach decoded currency at the time of creating the offer response —
a choice that unintentionally rippled through multiple layers of the codebase,
requiring a trait implementation across several APIs.

So, I decided to take a cleaner route:  
what if we interpret the offer’s currency _right at parse time_ instead?  
That way, instead of touching four or more API layers, we contain the logic
within a single point — **parse**. It felt elegant, minimal, and far more
sustainable.

Today’s work focused on implementing this new approach, and I’m eager to see how
it shapes up tomorrow as I refine and test it further over the weekend.

[Experimented]: https://github.com/shaavan/rust-lightning/commits/currency-33
[#3833]: https://github.com/lightningdevkit/rust-lightning/pull/3833
