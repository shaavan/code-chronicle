# Log 155: Laying Foundations of a New Peak

> _18 May 2025_

## What I Worked On:

- Created the first draft of the
  [Currency implementation](https://github.com/shaavan/rust-lightning/commits/currency).

## Reflections:

After spending the weekend thinking through the entire `Bolt12PaymentFlow`—for
both sending and receiving—I tried to map every possible event it could emit,
and what the user-facing consequences of each should be. I sat with the flow
until I was about 80% sure of the mental model. That’s when I knew it was time
to move from theory to practice.

And once I did… of course, the picture shifted.

That’s the thing: you can think all you want, but reality only starts revealing
itself when you get your hands into it. It’s funny how often this same lesson
reappears, each time dressed in new code.

While implementing, I hit a small but interesting roadblock—`Refund` currently
doesn’t allow specifying amounts in fiat currencies structurally. We can’t even
set a currency-denominated amount, let alone validate or reject it. That got me
wondering: _Should_ refunds support fiat-denominated amounts at all? Or is that
beyond spec?

That’s the next thread I’ll tug at tomorrow.

All in all, a quiet and fulfilling weekend — laying foundations for something
that might just turn into a new peak.
