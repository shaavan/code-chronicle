# Log 149: "An Investigation Begins"

> 09 May 2025

## What I Worked On:

- Located a new test failure while addressing Flow
  [suggestions](https://github.com/lightningdevkit/rust-lightning/pull/3639#discussion_r2075827495).

## Reflections:

After addressing the last of the Flow comments, I stumbled upon something
curious. As soon as I updated the code to move `payment_hash` and
`payment_secret` creation into Flow, a completely unrelated
testâ€”[`end_to_end_test`](https://github.com/lightningdevkit/rust-lightning/blob/78fee88a27709848078e9b4b187ce4341808cd0c/lightning-dns-resolver/src/lib.rs#L368)â€”started
failing.

Much like the previous Flow bug, this test shouldn't be impacted by the changeâ€¦
and yet, it is.

I spent some time today debugging it, but ran into a roadblock. I plan to dive
deeper tomorrow, and in the meantime, I've shared my findings with peers to get
their take as well.

Iâ€™m glad to have caught this earlyâ€”and excited to get to the bottom of it.
Another mystery in the making. ğŸ”
