# Log 285: Half-Now, Half-Later

> 09 Dec 2025

## What I Worked On

- [Introduced] partial recurrence data creation during invoice request creation
- [Implemented] invoice recurrence handling for recurrence

## Reflections

As predicted yesterday, both of the solutions I initially considered —  
(1) embedding the full `Offer` in the invoice, and  
(2) creating successive invoice requests from just the `OfferContents` —  
didn’t work.

But luckily, I’ve either got an unshakable spirit… or just a mind that refuses
to sit still. So I tried something new:  
**What if I split the recurrence data creation in two?**

- Half at the time of creating the **primary invoice request** (when we have the
  full offer)
- And half at the time of **receiving the primary invoice** (when we have the
  basetime)

So today, I implemented exactly that — and _voilà_, it worked.

It’s not the kind of solution you’d ship to prod just yet, but for a PoC? It’s
solid, and it unblocks everything that comes next. With invoice handling for
recurrence now functional, the next step is introducing **recurrence payers and
cancellors**.

That’s tomorrow’s mission. See ya.

[Introduced]: https://github.com/shaavan/rust-lightning/commits/recurrence-23
[Implemented]: https://github.com/shaavan/rust-lightning/commits/recurrence-24
