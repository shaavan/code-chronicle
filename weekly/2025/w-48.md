# Weekly Log 48: A Week of Milestones

> 20 – 28 November 2025

## Overview

This past week was a deeply productive and satisfying stretch — one of those
rare spans where design, implementation, and reflection aligned in near-perfect
rhythm. I finalized the core logic for **recurrence support** in our invoicing
system, shipped the first draft for review, and returned to clean up older work
with a sharper eye.

From low-level conditional wrangling to high-level protocol flow design, each
day brought a new layer of polish to the vision I’ve been steadily building.

## Highlights

### Recurrence Draft Finalized & Opened

- Completed the full **payee flow** for recurrence: including conditional
  validation, basetime logic, state tracking, and offer/invoice construction.
- Opened the [PoC draft PR][RecurrencePR] with detailed commit history and a
  comprehensive summary.
- Leveraged [coderabbit][RecurrenceCodeRabbit] for a full review to clean up
  edge cases and high-level inconsistencies.

### Reviewer Feedback & Refinements

- Addressed internal and external feedback on both recurrence and [payment dummy
  hops][DummyHopsComment].
- Identified and fixed a potential HTLC loss bug in dummy hops, flagged by
  [coderabbit][DummyCodeRabbit].

### Coderabbit-Assisted Iteration

- Coderabbit was incredibly helpful in surfacing nuanced logic and lifetime
  management issues.
- I now consider it part of my review cycle for early-stage branches —
  especially for branches heavy on design logic.

## Reflections

Shipping the recurrence draft was a major milestone. It pulled together weeks of
quiet architecture work and brought it into the light for review. More than the
technical win, though, was the feeling of _coherence_ — the sense that each part
of the system now fits into the larger model.

And returning to older work like dummy hops with a fresher mind and stronger
tools helped me refine areas I didn’t even realize were brittle.

It was also a solitary week, with most of the team off for the Thanksgiving
break — but strangely, that helped me slow down and think more deliberately.

This was a week where I didn’t just write code — I wrote _the right_ code. And
that’s rare enough to celebrate.

[RecurrencePR]: https://github.com/lightningdevkit/rust-lightning/pull/4245
[RecurrenceCodeRabbit]:
  https://github.com/shaavan/rust-lightning/pull/8#issuecomment-3588234105
[DummyHopsComment]:
  https://github.com/lightningdevkit/rust-lightning/pull/4152#issuecomment-3590086649
[DummyCodeRabbit]:
  https://github.com/shaavan/rust-lightning/pull/7#issuecomment-3398555309
