# Log 288: Expanding the Surface

> 13 Dec 2025

## What I Worked On

- [Addressed] suggestions for payment custom TLVs

## Reflections

After some discussion with my mentor, I realized that the current custom TLV
support needed broader coverage.

In particular, I had missed introducing `custom_tlvs` in a couple of important
paths:

- `AwaitingOffer`, which handles DNS-based offer fetching
- `StaticInvoice`, which covers cases where the receiver is often offline

After adding support in these areas, I extended the end-to-end asynchronous
offer payment flow as well, introducing tests that exercise paying with
`custom_tlvs`.

With these gaps closed, the custom TLV support now feels much more complete and
robust across different payment scenarios.

[Addressed]: https://github.com/shaavan/rust-lightning/commits/payment-custom-05
