# Log 142: "Untangling the Threads"

> 29 April 2025

## What I Worked On:

- Updated
  [#3655](https://github.com/lightningdevkit/rust-lightning/pull/3655#issuecomment-2838441135).
- Discussed Flow updates and next steps with mentor.

## Reflections:

Today, I addressed another interesting update for #3655.  
Instead of maintaining two separate fields for `channel_ids` and
`user_channel_ids`, we decided it would be much better to **introduce them as a
tupled ordered pair**.  
This approach keeps the corresponding elements tightly linked, **avoiding
confusion** about which `channel_id` maps to which `user_channel_id`â€”especially
in cases where the number of elements might differ.

After sorting this out, I shifted focus to discussing the **direction for Flow**
with my mentor.

We realized that to make Flow truly flexible, weâ€™ll need to **introduce two
ways** of adding a Flow instance into the `ChannelManager`:

- One where the user can **pass their own custom Flow**.
- Another where we **create a default Flow** internally for them.

Introducing this **dual constructor** approach will come with its own technical
challengesâ€”balancing flexibility while keeping the interface clean.  
We mapped out the trade-offs today, and Iâ€™m excited to start addressing these
updates tomorrow!

Another day of thoughtful refinementâ€”and good momentum ahead. ðŸš€
