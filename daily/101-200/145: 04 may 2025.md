# Log 145: "Flow in the Flow"

> 04 May 2025

## What I Worked On:

- [Addressed](https://github.com/shaavan/rust-lightning/commits/flow-27) Flow
  suggestions and refactoring.

## Reflections:

On a calm, breezy weekend, I picked up right where I left offâ€”continuing to
refine the `Flow` implementation.

Todayâ€™s focus was on **removing `Router` and `EntropySource` from Flow's
internal state**, and instead passing them only as parameters. This allowed us
to avoid redundant presence of `MessageRouter`, `Router`, and `EntropySource` in
both `ChannelManager` and `Flow`â€”making the code cleaner, more modular, and
easier to reason about.

The next step? Introducing two constructor variations for `ChannelManager`: one
where the user can pass their own `Flow`, and another where a default `Flow` is
created automatically. Thatâ€™s what Iâ€™ll be tackling tomorrow.

It feels good to keep the momentum aliveâ€”even through the quiet of the weekend.
ðŸŒ¿
