# Log 191: _Closing the Currency Loop_

> 14 July 2025

## What I Worked On:

- [Finished](https://github.com/shaavan/rust-lightning/commits/currency-17)
  implementing the `CurrencyConversion` trait-based approach for the event model

## Reflections:

Today was a satisfying close to a multi-day problem-solving arc.

After rounds of trial and error, I finalized the `CurrencyConversion` trait — a
clean, user-friendly design where developers only need to implement a simple
function to convert an ISO currency unit to millisatoshi. Once done, the rest of
the flow handles itself.

With this complete, tomorrow’s focus shifts to an edge case: how to support
users who want to generate events manually at the `InvoiceRequest` or `Invoice`
level — for cases like custom verification or supplying a specific
`payment_hash`.

I’m hoping to finalize this before the mentor meeting and am genuinely excited
to walk through the completed arc with him. It feels like things are clicking
into place.
