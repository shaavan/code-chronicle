# Log 304: Paying for the Illusion

> 10 Jan 2026

## What I Worked On

- [Progressed] on introducing payment relay logic in dummy hops

## Reflections

Today I returned to the **dummy hops** work to address an important [review
suggestion][RelayComment].

The comment highlighted a subtle but critical issue. While dummy hops prevent
intermediate nodes from knowing how far away the real hop is, the _sender_ — who
constructs the onion packet — may still infer this based on the total payment
relay values. This becomes especially apparent if dummy hops are effectively
“free,” with zero fees and zero CLTV delta.

So today’s task was to sit with this problem and figure out how to introduce
payment relay logic for dummy hops in a way that preserves the intended privacy
guarantees.

After exploring the current structure and possible approaches, I’m happy with
the direction I’ve landed on. There’s still work left to do, but the path
forward is much clearer now.

Tomorrow, I should be able to push an update to the branch.

[Progressed]: https://github.com/shaavan/rust-lightning/commits/pay-dummy-39
[RelayComment]:
  https://github.com/lightningdevkit/rust-lightning/pull/4152#discussion_r2665293053
