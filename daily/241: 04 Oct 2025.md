# Log 241: The Sweet Moment of Joy

> 04 Oct 2025

## What I Worked On

- [Solved] issues with the Dummy Payment Hops implementation.

## Reflections

After hours of effort and looking at the problem from every possible angle, I
finally found the cause behind the failure that had been haunting me — a subtle
but crucial oversight.

The issue stemmed from a variable, `payment_constraint`, which existed in all
_real_ hops of a blinded path and was treated as required. However, with the
introduction of _non-real_ dummy hops, this assumption no longer held true.  
That missing optionality caused downstream logic to break: the code introducing
dummy hops was sound, but adjacent parts of the system misbehaved, expecting a
field that was no longer guaranteed to exist.

The fix was simple once seen.  
And as soon as I made that shift, everything clicked into place.

There’s still more to go — dummy hops are now correctly parsed and recognized,
but the next step is connecting them so the node understands how to peel one
dummy hop, re-wrap the onion, and send it again to itself. That’s the upcoming
challenge, and I’m excited to close this loop over the weekend.

[Solved]: https://github.com/shaavan/rust-lightning/commits/pay-dummy-05
