# Log 291: Untangling the Dummy

> 18 Dec 2025

## What I Worked On

- [Addressed] reviewer suggestions for payment dummy hops

## Reflections

Today I addressed a couple of important review comments on the **dummy hops**
implementation.

The first was a gap on the public API side — I hadn’t fully wired dummy hops
handling through the external-facing interfaces. Fixing that helped make the
feature more complete and usable.

The second suggestion was more subtle, and very helpful. As my senior reviewer
pointed out, I had tangled myself into a nested-struct trap while trying to
allow `forward_info` to be `None` for dummy hops (since they aren’t actually
forwarding). Instead, a much cleaner approach was simply to set the
`forward_info` values equal to the receive-side values. This simplified the
structure and removed unnecessary conditional handling.

There is still an important catch, though. Because dummy hops currently reuse
unchanged CLTV values, they don’t yet provide meaningful privacy benefits —
anyone inspecting the CLTV deltas could infer that the hops aren’t real.

This will need to be addressed in a follow-up, and that’s the next piece I’ll be
working on.

[Addressed]:
  https://github.com/lightningdevkit/rust-lightning/pull/4152#issuecomment-3670362846
