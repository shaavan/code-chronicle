# Weekly Log 50: Parallel Threads, Converging Progress

> 03–11 Dec 2025

## Overview

This week was defined by parallel progress across multiple threads: advancing
the **payer-side recurrence flow**, completing and opening a **custom TLVs
feature**, and steadily pushing long-running work like **dummy hops** and
**currency support** toward completion.

Across design, implementation, and review cycles, the focus was on unblocking
hard problems, refining APIs, and turning exploratory work into reviewable,
forward-moving changes.

## Highlights

### Payer Recurrence Flow Advances

- Introduced recurrence support for invoice creation in the payer flow.
- Designed and implemented invoice handling logic on the payer side.
- Navigated structural limitations around offer availability by introducing a
  **split recurrence data model**, created partially at invoice request time and
  completed upon invoice receipt.
- Added core payer-side recurrence functions:
  - Sending successive invoice requests
  - Cancelling active recurrence sessions

These changes significantly advanced the payer flow toward functional
completeness.

### Custom TLVs Side Quest — Completed

- Designed and implemented custom TLV support for BOLT12 payment flows.
- Expanded scope to also support custom TLVs in the BOLT11 helper API, ensuring
  consistency across payment paths.
- Opened the review PR, iterated based on feedback, and ultimately opened the
  main PR for review.

This side quest evolved into a meaningful API improvement with broader impact
than originally planned.

### Reviews, Polish, and Long-Running Threads

- Addressed reviewer feedback on **dummy hops**, improving iterator usage and
  eliminating unnecessary cloning.
- Received an LGTM from a senior reviewer, bringing the dummy hops PR closer to
  completion.
- Revisited the **currency PR** after new reviews landed, refining the
  `Currency` trait and smoothing out earlier design rough edges.

## Reflections

This was a week of juggling complexity — not just in code, but in _context_.
Switching between recurrence design, TLV plumbing, and review-driven refinement
forced me to stay deliberate about boundaries and abstractions.

Several moments stood out:

- Realizing when a “clean” solution wasn’t feasible and adapting with a
  pragmatic PoC-friendly design.
- Letting side quests grow organically when they revealed real gaps in the
  system.
- Seeing long-running work like dummy hops and currency finally gain momentum
  through thoughtful review.

Progress this week wasn’t linear, but it was cumulative. Multiple threads moved
forward, some to completion, others closer to it — and the system as a whole is
stronger for it.

Looking ahead, the focus will be on wiring recurrence event triggers, tightening
payer logic, and closing out remaining review cycles.
